@model AplicatieDisertatie.Models.CommonViewModel

@{
	Layout = null;
}

<div class="form-horizontal">
	@Html.ValidationSummary(true, "", new { @class = "text-danger" })
	<div class="form-group">
		@*<input type="hidden" id="QuestionList_@(Model.QuestionVM.QuestionId)__QuestionId" class="iHidden" name='QuestionList_[@Model.QuestionVM.QuestionId].QuestionId' />*@
		@Html.LabelFor(model => model.QuestionVM.QuestionText, htmlAttributes: new { @class = "control-label col-md-2" })
		<div class="col-md-10 form-inline">
			@Html.EditorFor(model => model.QuestionVM.QuestionText, new { htmlAttributes = new { @class = "form-control" } })
			@*@Html.ValidationMessageFor(model => model.QuestionVM.QuestionText, "", new { @class = "text-danger" })*@


			<button type="button" class="btn btn-primary" id="add">Add</button>
			<button type="button" class="btn btn-primary" id="remove">Remove</button>
		</div>
	</div>

	@for (int i = 0; i < Model.QuestionVM.AnswersNo; i++)
	{
	<div class="form-group" style="margin-left:30px">
		@*<input type="hidden" id="QuestionOptions_@(Model.QuestionOptionVM.OptionId+1)__OptionId" class="iHidden" name='QuestionOptions_[@Model.QuestionOptionVM.OptionId+1].OptionId' />*@
		@Html.LabelFor(model => model.QuestionOptionVM.Answer, htmlAttributes: new { @class = "control-label col-md-2" })
		<div class="col-md-10">
			@Html.EditorFor(model => model.QuestionOptionVM.Answer, new { htmlAttributes = new { @class = "form-control" } })
			@Html.ValidationMessageFor(model => model.QuestionOptionVM.Answer, "", new { @class = "text-danger" })
		</div>
	</div>
	}
</div>

<script>
	$(function () {
		$("#add").click(function (e) {
			e.preventDefault();
			var itemIndex = $("#newQuestions").length;			
			$.get("@Url.Action("NewInterestRow", "CreateFile")/" + itemIndex, function (data) {
				$("#newQuestions").append(data);
			});
		});
	});

	//$("#remove").click(function (button) {
	//	button.preventDefault();
	//	$(button).parent().remove();
	//});

	//function remove() {
	//	if ($('#ans > div').length > 1)
	//		$('#ans').remove($(this).parent());
	//	else
	//		alert("Must have at least one author");
	//}

	//$("#remove").click(function (button) {
	//	button.preventDefault();
	//	$('#ans_1').remove($(this).parent());
	//});
</script>
