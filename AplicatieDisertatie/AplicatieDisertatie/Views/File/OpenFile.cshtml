@model AplicatieDisertatie.Models.FileViewModel

@{
	ViewBag.Title = "OpenFile";
	Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>OpenFile</h2>


@using (Html.BeginForm())
{
	@Html.AntiForgeryToken()

	if (ViewBag.UserNoOfResponses > 0)
	{
		@Html.Partial("ResumedQuiz", Model)
	}
	else
	{

		<div class="form-horizontal">
			<h4>@Html.DisplayName(Model.FileName)</h4>
			<hr />
			@Html.ValidationSummary(true, "", new { @class = "text-danger" })

			@foreach (AplicatieDisertatie.Models.QuestionViewModel question in Model.Questions)
			{
				<div class="form-group">
					@Html.Label(question.QuestionText, htmlAttributes: new { @class = "control-label col-md" })

					<div class="col-md form-group" id="@question.QuestionId">
						@if (question.TypeId == 1)
						{
							foreach (var option in question.QuestionOptions)
							{
								<div class="col-md custom-control custom-radio">
									@Html.RadioButton("quId_" + question.QuestionId + "_ansId_" + option.OptionId, option.Answer, new { @id = option.OptionId, @class = "custom-control-input rdomcqans" })
									@Html.Label(option.Answer, new { @class = "custom-control-label", @for = option.OptionId })
								</div>
							}
						}

						@if (question.TypeId == 2)
						{
							foreach (var option in question.QuestionOptions)
							{
								<div class="col-md custom-control custom-checkbox">
									@Html.CheckBox("quId_" + question.QuestionId + "_ansId_" + option.OptionId, false, htmlAttributes: new { @id = option.OptionId, @class = "custom-control-input rdomcqans" })
									@Html.Label(option.Answer, new { @class = "custom-control-label", @for = option.OptionId })
								</div>
							}
						}

						@if (question.TypeId == 3)
						{
							<div class="form-text">
								@Html.TextArea("quId_" + question.QuestionId + "_ansText_", null, new { @class = "form-control" })
							</div>
						}
					</div>
				</div>
			}
		</div>

	}

	<div class="form-group">
		<div class="col-md-offset-2 col-md-10">
			@*<input type="submit" id="SubmitQuiz" value="Submit" class="btn btn-default" onclick="SubmitQuiz(@(Model.FileId))" />*@
			<a href="#" class="btn btn-danger" onclick="SubmitQuiz('@Model.FileId')">Submit</a>

		</div>
	</div>
}

<div>
	@Html.ActionLink("Back to List", "Index")
</div>

@section Scripts {
	@Scripts.Render("~/bundles/jqueryval")
<script src="~/Scripts/MyScripts/SubmitQuiz.js"></script>
}